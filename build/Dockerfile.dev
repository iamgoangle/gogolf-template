FROM golang:1.18-alpine

# [1] Single state build for local development.
# [2] --no-cache is determine reduce docker layer to small sizing.
# Additionally the --no-cache flag, doesn't add anything to cache, so you wouldn't need to run rm /var/cache/apk/* later (which is a good practice)
# [3] installed Air to go reloader command.

RUN apk --no-cache add ca-certificates && \
    wget -O - https://raw.githubusercontent.com/cosmtrek/air/master/install.sh | sh -s -- -b $(go env GOPATH)/bin

WORKDIR /opt/app/

CMD ["air"]